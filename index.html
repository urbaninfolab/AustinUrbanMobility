<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Mobility Map - Austin Digital Twin</title>
	<meta name="description" content="Austin urban mobility map.">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Open Graph tags for social media -->
	<meta property="og:title" content="Mobility Map - Austin Digital Twin">
	<meta property="og:description" content="Austin urban mobility map.">
	<meta property="og:image" content="https://img.itch.zone/aW1hZ2UvMTQ4MDY3NS85Mzc5NTEwLnBuZw==/original/IRJDeW.png">
	<meta property="og:url" content="mobility.austindigitaltwin.com">

	<!-- Enables Twitter support -->
	<meta name="twitter:card" content="summary">

	<!-- Leaflet requirements -->

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin="" />
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://smartcity.tacc.utexas.edu/FireIncident/assets/js/leaflet-rotatedMarker.js"></script>
	<script src="https://smartcity.tacc.utexas.edu/FireIncident/assets/js/leaflet.shpfile.js"></script>
	<script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.bundled.js"></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.css' rel='stylesheet' />
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.js'></script>
	<script src="https://unpkg.com/mapbox-gl-leaflet/leaflet-mapbox-gl.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.3/proj4.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/gipong/shp2geojson.js@master/lib/jszip.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/gipong/shp2geojson.js@master/lib/jszip-utils.js"></script>
	<!--[if IE]>
		<script type="text/javascript" src="lib/jszip-utils-ie.js"></script>
		<![endif]-->

	<script src="https://cdn.jsdelivr.net/gh/gipong/shp2geojson.js@master/preprocess.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/gipong/shp2geojson.js@master/preview.js"></script>

	<script src="https://unpkg.com/leaflet.markercluster@1.1.0/dist/leaflet.markercluster.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.1.0/dist/MarkerCluster.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.1.0/dist/MarkerCluster.Default.css" />

	<script src="https://cdn.jsdelivr.net/gh/zostera/leaflet-legend@master/leaflet-legend.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zostera/leaflet-legend@master/leaflet-legend.css" />

	<script src="https://smartcity.tacc.utexas.edu/FireIncident/assets/js/shp.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/windycom/leaflet-kml/L.KML.min.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet-geosearch@3.0.0/dist/geosearch.css" />
	<!-- Make sure you put this AFtER leaflet.js, when using with leaflet -->
	<script src="https://unpkg.com/leaflet-geosearch@3.0.0/dist/geosearch.umd.js"></script>

	<link rel="stylesheet" href="https://uicdn.toast.com/chart/latest/toastui-chart.min.css" />
	<script src="https://uicdn.toast.com/chart/latest/toastui-chart.min.js"></script>

	<!-- Load Esri Leaflet from CDN -->
	<script src="https://unpkg.com/esri-leaflet"></script>

	<!-- Esri Leaflet Geocoder -->
	<link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css" />
	<script src="https://unpkg.com/esri-leaflet-geocoder"></script>

	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="shortcut icon" href="assets/images/mobility_icon.ico">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

	<!-- preload essential fonts -->
	<link rel="preload"
		href="https://smartcity.tacc.utexas.edu/FireIncident/assets/fonts/ManifoldDSA/ManifoldDSA-Medium.woff" as="font"
		type="font/woff" crossorigin>
	<link rel="preload"
		href="https://smartcity.tacc.utexas.edu/FireIncident/assets/fonts/ManifoldDSA/ManifoldDSA-ExtraBold.woff"
		as="font" type="font/woff" crossorigin>
	<link rel="preload" href="https://smartcity.tacc.utexas.edu/FireIncident/assets/fonts/FontAwesome/fa-solid-900.woff"
		as="font" type="font/woff" crossorigin>


	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-LXDZCKSKZQ"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-LXDZCKSKZQ');
	</script>

	<!-- Leaflet.GridLayer.GoogleMutant -->
	<script src="https://unpkg.com/leaflet.gridlayer.googlemutant@latest/dist/Leaflet.GoogleMutant.js"></script>

</head>

<!--

Check My Location button code leaflet

<div class="geocoder-control leaflet-control"><div class="geocoder-control-input leaflet-bar" title="Check My Location" style="background-image: url(assets/images/location.png)"></div><div class="geocoder-control-suggestions leaflet-bar"><div class=""></div></div></div>



-->

<style>
	/* Text alignment for body */
	body {
		text-align: center;
	}

	/* Styling h1 tag */
	h1 {
		color: green;
		text-align: center;
	}

	/* Styling modal */
	.modal:before {
		content: '';
		display: inline-block;
		height: 100%;
		vertical-align: middle;
		text-align: center;
	}

	.modal-dialog {
		display: inline-block;
		vertical-align: middle;
		align-content: center;
	}

	.modal .modal-content {
		padding: 20px 20px 20px 20px;
		-webkit-animation-name: modal-animation;
		-webkit-animation-duration: 0.5s;
		animation-name: modal-animation;
		animation-duration: 0.5s;
	}
</style>

<body>

	<div id="map"></div>


	<div id="spinner">
		<div></div>
		<div></div>
		<div></div>
		<div></div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="statsModal" role="dialog" style="overflow: hidden; margin-top: 10px;">
		<div class="modal-dialog" style="width: 80%; height: 120%;overflow: hidden; ">

			<!-- Modal content-->
			<div class="modal-content" style="height: 80%; overflow: hidden;">
				<div class="modal-header" style="overflow: hidden;">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Active Fire Incidents Stats</h4>
				</div>
				<iframe frameBorder="0" src="https://smartcity.tacc.utexas.edu/FireIncident/FireIncidentStats.html"
					width="130%" height="130%" style="overflow: hidden;        -ms-zoom: 0.75; 
				-moz-transform: scale(0.75);
				-moz-transform-origin: 0 0;
				-o-transform: scale(0.75);
				-o-transform-origin: 0 0;
				-webkit-transform: scale(0.75);
				-webkit-transform-origin: 0 0;"></iframe>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal -->
	<div class="modal fade" id="infoModal" role="dialog">
		<div id="InfoBox" class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Urban Mobility Map Information</h4>
				</div>
				<div class="modal-body" style="text-align:left;">
					<h4>About</h4>

					<p>This interactive map provides comprehensive urban mobility information for Austin, Texas. The map
						includes:</p>

					<ul>
						<li><strong>Urban Mobility:</strong> Real-time transit locations and micromobility data</li>
						<li><strong>Mobility Facilities:</strong> City corridors and bicycle facilities</li>
						<li><strong>Traffic Information:</strong> Live traffic conditions and active traffic incidents
						</li>
						<li><strong>Accessibility Metrics:</strong> Walk Score, Bike Score, Transit Score, and Transit
							Desert Index</li>
						<li><strong>Points of Interest:</strong> Fire departments, police departments, and hospitals
						</li>
					</ul>

					<p>This map is part of the <a href="https://www.urbaninfolab.com/austindigitaltwin"
							target="_blank">Austin Digital Twin</a> project, providing real-time and historical mobility
						data to help understand urban transportation patterns in Austin.</p>

					<h4>Credits</h4>

					<p>This map was created by the <a href="https://www.urbaninfolab.com" target="_blank">Urban Info
							Lab</a> at The University of Texas at Austin, as part of the Austin Digital Twin initiative
						under the Good Systems Initiative.</p>

					<p>Additional support for this project comes from the Texas Advanced Computing Center (TACC).</p>

					<div style="text-align:center; margin-top: 20px;">
						<a href="https://www.urbaninfolab.com" target="_blank">
							<img width="25%" height="25%"
								src="https://sites.utexas.edu/uil/files/2020/05/UIL-Final-Logos-03-e1588717100882.png"
								alt="Urban Info Lab"></img>
						</a>
						<a href="https://tacc.utexas.edu" target="_blank">
							<img width="25%" height="25%"
								src="https://tacc.utexas.edu/static/site_cms/img/org_logos/tacc-formal.svg"
								alt="TACC"></img>
						</a>
					</div>

					<p style="margin-top: 20px; text-align: center;">
						An extended list of credits and data sources can be found <a href="#"
							onclick="credits()">here</a>.
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>

	<!-- Modal -->
	<div class="modal fade" id="creditsModal" role="dialog">
		<div id="InfoBox1" class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Austin Mobility Map Extended Credits</h4>
				</div>
				<div class="modal-body" id="statsBody" style="text-align:left;">
					<h5>Data Sources</h5>
					<p>This map integrates data from multiple sources to provide comprehensive mobility information:</p>
					<ul>
						<li>Austin transit and micromobility services</li>
						<li>City of Austin transportation and infrastructure data</li>
						<li>Traffic incident and flow data</li>
						<li>Accessibility scoring data (Walk Score, Bike Score, Transit Score)</li>
					</ul>

					<h5>Project Partners</h5>
					<ul>
						<li><strong>Urban Info Lab</strong> - The University of Texas at Austin</li>
						<li><strong>Texas Advanced Computing Center (TACC)</strong></li>
						<li><strong>Good Systems Initiative</strong> - UT Austin</li>
					</ul>

					<h5>Contact</h5>
					<p>For questions or feedback about this map, please visit the <a
							href="https://www.urbaninfolab.com/austindigitaltwin" target="_blank">Austin Digital
							Twin</a> project page.</p>

				</div>
				<div class="modal-footer">
					<button onclick="$('#infoModal').show()" type="button" class="btn btn-default"
						data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>

	<script type="text/javascript">
		function stats() {
			$("#statsModal").modal({ backdrop: true });
		}
		function info() {
			$("#infoModal").modal({ backdrop: true });
		}
		function credits() {
			$('#infoModal').hide();
			$("#creditsModal").modal({ backdrop: true });
		}

	</script>

	<section>
		<div style="display: block; background-color: #bf5700; height: 40px; text-align: center; user-select: none;">

			<div onclick="info()">
				<!-- Fire Logo -->
				<a href="#" onclick="info()" style="float: left; margin-right: 1rem; margin-top:0;">
					<span
						style="margin-left: 10px; max-height: 25px; margin-top: -5px; display: block; max-width: 100%; height: auto;">
						<img src="assets/images/title_logo.png" width="50px" height="50px" xml:space="preserve"> </img>
					</span>
				</a>

				<!-- Fire Toggles -->


				<h2 id="MapTitle" style="float: left; margin-right: 1rem; margin-top:5px; color: white;"><b><a
							style="color:white" href="#">Austin Mobility Map</a></b></h2>
			</div>
			<!--
                                <div id="get-help">
                                        <p><a onclick="stats()" href="#">View Stats</a></p>
                                        <p><a onclick="info()" href="#">More Information</a></p>
                                </div>
								-->



			<!-- College/Project Branding -->
			<a href="https://www.urbaninfolab.com/austindigitaltwin"
				style="float: right; margin-right: 1rem; margin-top:0;">
				<span
					style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0;color: #fff">Urban
					Info Lab</span>
				<span style="max-height: 25px; margin-top: 9px; display: block; max-width: 100%; height: auto;">
					<img src="https://sites.utexas.edu/uil/files/2020/05/UIL-Final-Logos-03-e1588717100882.png"
						width="115px" height="25px" style="display: block; max-width: 100%; height: auto;"
						alt="Urban Info Lab">
				</span>
			</a>



			<div style="float: right; margin-right: 2rem; margin-top:-10px;" class="date-bar">

				<div class="date-picker">
					<!--<label for="start">Start date:</label>-->
					<input type="date" id="start" name="trip-start" min="2022-01-31">
				</div>

				<!-- <div class="status-toggle"> </div> -->

				<div id="filter-menu" class="dropdown-check-list" tabindex="100">
					<span class="anchor">&#12288;&#12288;</span>

					<ul class="items">
						<b>
							<li style="display: none;">Fire Data</li>
						</b>
						<li style="display: none;"><input style="margin-left: 15px;" type="checkbox"
								class="active-fire" /> Inactive Fire </li>
						<b>
							<li style="display: none;">Smoke Data</li>
						</b>
						<li style="display: none;"><input style="margin-left: 15px;" type="checkbox"
								class="one-hour-smoke" /> 1 Hour Forecast </li>
						<li style="display: none;"><input style="margin-left: 15px;" type="checkbox"
								class="two-hour-smoke" /> 2 Hour Forecast </li>
						<li style="display: none;"><input style="margin-left: 15px;" type="checkbox"
								class="three-hour-smoke" /> 3 Hour Forecast </li>
						<b>
							<li style="display: none;">Air Data</li>
						</b>
						<li style="display: none;"><input style="margin-left: 15px;" type="checkbox"
								class="purple-air" /> PurpleAir Data</li>
						<!-- Microsoft seems to have pulled the rug on their air sensors -->
						<li style="display: none;"><input style=" margin-left: 15px;" type="checkbox"
								class="microsoft-air" /> MSR Air Quality Sensors </li>
						<b>
							<li style="display: none;">Shapefile</li>
						</b>
						<li style="display: none;"><input style="margin-left: 15px;" type="radio" id="test-risk-radio"
								name="shapefile-radio" value="test-risk-radio" />
							<label for="test-risk-radio">Fire Risk</label>
						</li>
						<li style="display: none;"><input style="margin-left: 15px;" type="radio" id="afd-radio"
								name="shapefile-radio" value="afd-radio" />
							<label for="afd-radio">AFD Coverage</label>
						</li>
						<li style="display:none"><input style="margin-left: 15px;" type="radio" id="hvi-radio"
								name="shapefile-radio" value="hvi-radio" />
							<label for="hvi-radio">HVI Map</label>
						</li>
						<li style="display: none;"><input style="margin-left: 15px;" type="radio" id="fire-risk-radio"
								name="shapefile-radio" value="fire-risk-radio" />
							<label for="fire-risk-radio">Fire Vulnerability Map</label>
						</li>
						<li style="display: none;"><input style="margin-left: 15px;" type="radio" id="no-shapefile"
								name="shapefile-radio" value="none-radio" checked />
							<label for="none-radio">None</label>
						</li>
						<b>
							<li>Points of Interest</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="firedept" /> Fire Departments </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="policedept" /> Police Departments
						</li>
						<li><input style="margin-left: 15px;" type="checkbox" class="hospital" /> Hospitals </li>
						<b>
							<li>Urban Mobility</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="transit" /> Transit Location</li>
						<li><input style="margin-left: 15px;" type="checkbox" class="micromobility" /> Micromobility
							Location </li>
						<b>
							<li>Mobility Facility</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="city_corridor" checked /> City
							Corridor </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="bicycle_facilities" checked />
							Bicycle Facility </li>
						<b>
							<li>Traffic Flow</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="traffic_condition" /> Traffic
							Condition</li>
						<b>
							<li>Traffic Incident</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="active_incident" /> Active Traffic
							Incident </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="archived_incident" /> Archived
							(past 2 days) </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="choropleth_incident" /> Incident
							Choropleth </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="road_incident" /> Road Incident
							Count </li>
						<b>
							<li>Accessibility</li>
						</b>
						<li><input style="margin-left: 15px;" type="checkbox" class="walk_score" /> Walk Score </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="bike_score" /> Bike Score </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="transit_score" checked /> Transit
							Score </li>
						<li><input style="margin-left: 15px;" type="checkbox" class="transit_desert" /> Transit Desert
							Index v2</li>
						<li><input style="margin-left: 15px;" type="checkbox" class="transit_desert_v1" /> Transit
							Desert Index v1</li>

					</ul>
				</div>

				<!-- <div id="filter-menu2" class="dropdown-check-list2" tabindex="100"
					style="position:relative; margin-top: 17px; margin-left: 15px;">
					<a onclick="stats()" href="#">
						<img src="https://smartcity.tacc.utexas.edu/FireIncident/assets/images/stats.png" width="25px"
							height="25px" xml:space="preserve"> </img>
					</a>
				</div> -->

				<!-- <div class="dropdown">
					<div id="filter-menu1" class="dropdown-check-list1" tabindex="100">
						<span id="CurrentSelectedDate" class="anchor" type="button" data-toggle="dropdown"
							style="user-select: none">&#12288;&#12288;Today</span>

						<ul class="dropdown-menu" style=" user-select: none">
							<li><a onclick="getToday()" href="#" class="option">Today</a></li>
							<li><a onclick="getYesterday()" href="#" class="option">Yesterday</a></li>
							<li><a onclick="get3Days()" href="#" class="option">Past 3 Days</a></li>
							<li><a onclick="getCustom()" href="#" class="option">Custom</a></li>
						</ul>
					</div>
				</div> -->
			</div>


			<a href="http://goodsystems.utexas.edu"
				style="display: none; float: right; margin-right: 1rem; margin-top:0;">
				<span
					style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0;color: #fff">University
					of Texas at Austin</span>
				<span style="max-height: 25px; margin-top: 9px; display: block; max-width: 100%; height: auto;">
					<img src="https://smartcity.tacc.utexas.edu/FireIncident/assets/images/goodsystems.svg"
						width="115px" height="25px" xml:space="preserve"> </img>
				</span>
			</a>
		</div>
	</section>

	<div class="legend-wrapper">
		<div class="air-quality-legend" style="margin-top: -50px;">
			<div style="background-color: white;">
				<span>Air Quality: </span>
			</div>
			<div style="background-color: #9cd74e;">
				<span>0</span>
			</div>
			<div style="background-color: #facf39;">
				<span>50</span>
			</div>
			<div style="background-color: #f68f47;">
				<span>100</span>
			</div>
			<div style="background-color: #f55e5f;">
				<span style="color:#ffffff">150</span>
			</div>
			<div style="background-color: #a070b5;">
				<span style="color:#ffffff">200</span>
			</div>
			<div style="background-color: #a06a7b;">
				<span style="color:#ffffff">300</span>
			</div>
		</div>
	</div>
	<div class="legend-wrapper">
		<div class="air-quality-legend" style="margin-top: -30px;">
			<div style="background-color: white; width:325px">
				<!-- Get current date -->
				<span id="date"></span>
			</div>
		</div>
	</div>
	</div>

	<script>
		// Put the date in the legend, as Month Name Day, Year, Time
		var d = new Date();
		var month = d.getMonth() + 1;
		// Convert month number to month name
		var monthName = new Array();
		monthNames = ["January", "February", "March", "April", "May", "June",
			"July", "August", "September", "October", "November", "December"
		];
		monthName = monthNames[month - 1];
		var day = d.getDate();
		var year = d.getFullYear();
		var hour = d.getHours();
		var minute = d.getMinutes();
		var second = d.getSeconds();
		var ampm = hour >= 12 ? 'PM' : 'AM';
		hour = hour % 12;
		hour = hour ? hour : 12; // the hour '0' should be '12'
		minute = minute < 10 ? '0' + minute : minute;
		second = second < 10 ? '0' + second : second;
		var strTime = hour + ':' + minute + ':' + second + ' ' + ampm;
		// Get Time Zone Acronym
		var timeZone = d.toLocaleDateString('en-US', { day: '2-digit', timeZoneName: 'short', }).slice(4);

		document.getElementById("date").innerHTML = monthName + " " + day + ", " + year + ", " + strTime + " " + timeZone;

		// Make the legend update every second
		setInterval(function () {
			var d = new Date();
			var month = d.getMonth() + 1;
			// Convert month number to month name
			var monthName = new Array();
			monthNames = ["January", "February", "March", "April", "May", "June",
				"July", "August", "September", "October", "November", "December"
			];
			monthName = monthNames[month - 1];
			var day = d.getDate();
			var year = d.getFullYear();
			var hour = d.getHours();
			var minute = d.getMinutes();
			var second = d.getSeconds();
			var ampm = hour >= 12 ? 'PM' : 'AM';
			hour = hour % 12;
			hour = hour ? hour : 12; // the hour '0' should be '12'
			minute = minute < 10 ? '0' + minute : minute;
			second = second < 10 ? '0' + second : second;
			var strTime = hour + ':' + minute + ':' + second + ' ' + ampm;
			// Get Time Zone Acronym
			var timeZone = d.toLocaleDateString('en-US', { day: '2-digit', timeZoneName: 'short', }).slice(4);

			document.getElementById("date").innerHTML = monthName + " " + day + ", " + year + ", " + strTime + " " + timeZone;
		}, 60000);




	</script>



	<div class="legend-wrapper">
		<div class="fire-risk-legend">
			<div style="background-color: white;">
				<span id="fireRiskType">Fire Risk: </span>
			</div>
			<div style="background-color: red;">
				<span style="color:#ffffff">Highest</span>
			</div>
			<div style="background-color: orange;">
				<span>Elevated</span>
			</div>
			<div style="background-color: yellow;">
				<span>Normal</span>
			</div>
		</div>
	</div>
	<div class="legend-wrapper">
		<div class="afd-legend">
			<div style="background-color: white;">
				<span>AFD Response Rate: </span>
			</div>
			<div style="background-color: rgb(1, 106, 1);">
				<span style="color:#ffffff">90% and up</span>
			</div>
			<div style="background-color: #699d50;">
				<span style="color:#ffffff">80% ~ 89%</span>
			</div>
			<div style="background-color: orange;">
				<span style="color:#ffffff">70% ~ 79%</span>
			</div>
			<div style="background-color: #ff5500;">
				<span style="color:#ffffff">50% ~ 67%</span>
			</div>
			<div style="background-color: #704489;">
				<span style="color:#ffffff">Less than 50%</span>
			</div>
		</div>
	</div>
	<div class="legend-wrapper">
		<div class="hvi-legend">
			<div style="background-color: white;">
				<span>AFD Response Rate: </span>
			</div>
			<div style="background-color: rgb(1, 106, 1);">
				<span>90% and up</span>
			</div>
			<div style="background-color: #699d50;">
				<span>80% ~ 89%</span>
			</div>
			<div style="background-color: orange;">
				<span>60% ~ 79%</span>
			</div>
			<div style="background-color: #ff5500;">
				<span>40% ~ 59%</span>
			</div>
			<div style="background-color: #704489;">
				<span>Less than 40%</span>
			</div>
		</div>
	</div>

	</div>

	<link rel="stylesheet" href="assets/css/fireMap.css" />
	<script src="assets/js/mobilityMap2d.js"></script>

	<!-- Google Map Layers -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0IIh7KXVmItoyyPktQpcgAzmbflbWR4s" async
		defer></script>

	<script src="https://smartcity.tacc.utexas.edu/FireIncident/assets/js/checkIE.js"></script>

	<!-- Simple Usage Instructions Modal -->
	<div id="usageModal"
		style="display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); overflow-y: auto;">
		<div
			style="background-color: #bf5700; margin: 5% auto; padding: 25px; border: 1px solid #888; width: 85%; max-width: 650px; border-radius: 8px; position: relative; max-height: 85vh; overflow-y: auto; color: #fefefe;">
			<span onclick="closeUsageModal()"
				style="position: absolute; right: 15px; top: 15px; color: #fefefe; font-size: 32px; font-weight: bold; cursor: pointer; line-height: 1;">&times;</span>
			<h2 style="margin-top: 0; color: #fefefe;">Welcome to Austin Mobility Map</h2>
			<h3 style="margin-bottom: 20px; border-bottom: 2px solid #fefefe; padding-bottom: 10px; color: #fefefe;">
				Guide</h3>

			<div style="margin-bottom: 18px; display: flex; align-items: flex-start;">
				<div style="flex-shrink: 0; margin-right: 12px;">
					<img src="assets/images/layers.png" width="30px" height="30px" style="display: block;">
				</div>
				<div style="color: #fefefe; text-align: left;">
					<strong style="color: #fefefe; display: block; margin-bottom: 5px; text-align: left;">Layer
						Control:</strong>
					<span style="text-align: left;">Click the layer icon to open the data filter menu. Select different
						data layers including Points of Interest, Urban Mobility, Mobility Facilities, Traffic Flow,
						Traffic Incidents, and Accessibility scores.</span>
				</div>
			</div>

			<div style="margin-bottom: 18px; display: flex; align-items: flex-start;">
				<div style="flex-shrink: 0; margin-right: 12px;">
					<img src="https://smartcity.tacc.utexas.edu/FireIncident/assets/images/stats.png" width="30px"
						height="30px" style="display: block;">
				</div>
				<div style="color: #fefefe; text-align: left;">
					<strong
						style="color: #fefefe; display: block; margin-bottom: 5px; text-align: left;">Statistics:</strong>
					<span style="text-align: left;">Click the stats icon to view detailed statistics and analytics about
						the mobility data displayed on the map.</span>
				</div>
			</div>

			<div style="margin-bottom: 18px; display: flex; align-items: flex-start;">
				<div
					style="flex-shrink: 0; margin-right: 12px; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: #fefefe;">
					Today
				</div>
				<div style="color: #fefefe; text-align: left;">
					<strong style="color: #fefefe; display: block; margin-bottom: 5px; text-align: left;">Date
						Selection:</strong>
					<span style="text-align: left;">Use the date dropdown menu to filter data by time period. Options
						include Today, Yesterday, Past 3 Days, or Custom date range.</span>
				</div>
			</div>

			<div
				style="text-align: center; margin-top: 25px; padding-top: 20px; border-top: 1px solid rgba(254, 254, 254, 0.3);">
				<button onclick="closeUsageModal()"
					style="background-color: #fefefe; color: #bf5700; border: none; padding: 12px 40px; font-size: 16px; border-radius: 5px; cursor: pointer; font-weight: bold; transition: background-color 0.3s;"
					onmouseover="this.style.backgroundColor='#e8e8e8'"
					onmouseout="this.style.backgroundColor='#fefefe'">Got it!</button>
			</div>
		</div>
	</div>

	<script>
		function closeUsageModal() {
			document.getElementById('usageModal').style.display = 'none';
		}

		window.onload = function () {
			setTimeout(function () {
				document.getElementById('usageModal').style.display = 'block';
			}, 500);
		};
	</script>

</body>

</html>